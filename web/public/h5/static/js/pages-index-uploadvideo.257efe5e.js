(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-index-uploadvideo"],{"0280":function(t,e,i){var a=i("fe52");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("98ed5084",a,!0,{sourceMap:!1,shadowMode:!1})},"1aee":function(t,e,i){"use strict";var a=i("0280"),n=i.n(a);n.a},"1d21":function(t,e,i){t.exports=i.p+"static/img/112_1.f63797be.png"},"1d36":function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={data:function(){return{imagelist:"",statusheight:0,image:"",title:"",url:getApp().globalData.url,header:getApp().globalData.header,loadtext:""}},onLoad:function(){this.statusheight=uni.getSystemInfoSync().statusBarHeight},methods:{toback:function(){uni.navigateBack({delta:1})},tijiao:function(){var t,e=this;if(!this.title)return uni.showToast({icon:"none",title:"请输入标题"}),!1;uni.showLoading({mask:!0,title:"正在上传图片"}),uni.uploadFile({url:this.url+"/api/community/upload",filePath:this.image,name:"name",success:function(i){200==JSON.parse(i.data).code?(t=uni.uploadFile({url:e.url+"/api/community/upload",filePath:e.imagelist.tempFilePath,name:"name",success:function(t){200==JSON.parse(t.data).code?(uni.showLoading({mask:!0,title:"正在上传"}),uni.request({url:e.url+"/api/community/add_video",method:"POST",header:{token:uni.getStorageSync("usertoken")},data:{title:e.title,video:JSON.parse(t.data).data,video_image:JSON.parse(i.data).data},success:function(t){uni.hideLoading(),uni.showToast({icon:"none",title:i.data.msg})}})):(uni.hideLoading(),uni.showToast({icon:"none",title:"上传视频失败"}))}}),t.onProgressUpdate((function(t){100==t.progress||uni.showLoading({mask:!0,title:"正在上传视频("+t.progress+"%)"})}))):(uni.hideLoading(),uni.showToast({icon:"none",title:"上传图片失败"}))}})},changeimg:function(){var t=this;uni.chooseImage({count:1,success:function(e){t.image=e.tempFilePaths[0]}})},changevideo:function(){var e=this;uni.chooseVideo({sourceType:["album"],success:function(i){e.imagelist=i,t.log(i)}})}}};e.default=i}).call(this,i("5a52")["default"])},"79c2":function(t,e,i){"use strict";var a;i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return s})),i.d(e,"a",(function(){return a}));var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",[a("v-uni-view",{staticClass:"status-bar",style:{height:t.statusheight+"px"}}),a("v-uni-view",{staticClass:"status-tabbar",style:{top:t.statusheight+"px"}},[a("v-uni-image",{staticClass:"back-img",attrs:{src:i("ee2b")},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toback.apply(void 0,arguments)}}}),a("v-uni-text",{staticClass:"status-tabbar-title"},[t._v("发布内容")]),a("v-uni-image",{staticClass:"submit-img",attrs:{src:i("1d21")},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.tijiao.apply(void 0,arguments)}}})],1),a("v-uni-view",{staticClass:"header-bg",style:{height:44+t.statusheight+"px"}}),a("v-uni-view",{staticClass:"input-title"},[a("v-uni-input",{staticClass:"input-input",attrs:{type:"text",placeholder:"请输入标题（至少三个字）"},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1),a("v-uni-view",{staticClass:"img-list"},[a("v-uni-view",{staticClass:"change-img",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changevideo.apply(void 0,arguments)}}},[a("v-uni-image",{staticClass:"change-img-image",attrs:{src:i("fadc")}}),a("v-uni-text",{staticClass:"change-text"},[t._v("请选择视频")])],1),a("v-uni-view",{staticClass:"change-img",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changeimg.apply(void 0,arguments)}}},[a("v-uni-image",{staticClass:"change-img-image",attrs:{src:i("fadc")}}),a("v-uni-text",{staticClass:"change-text"},[t._v("请选择视频封面")])],1),a("v-uni-image",{staticClass:"img-item",attrs:{src:t.image,mode:"aspectFill"}}),t.imagelist?a("v-uni-video",{staticClass:"myvideo",attrs:{src:t.imagelist.tempFilePath,controls:!0}}):t._e()],1)],1)},s=[]},af94:function(t,e,i){"use strict";i.r(e);var a=i("1d36"),n=i.n(a);for(var s in a)"default"!==s&&function(t){i.d(e,t,(function(){return a[t]}))}(s);e["default"]=n.a},d482:function(t,e,i){"use strict";i.r(e);var a=i("79c2"),n=i("af94");for(var s in n)"default"!==s&&function(t){i.d(e,t,(function(){return n[t]}))}(s);i("1aee");var o,c=i("f0c5"),d=Object(c["a"])(n["default"],a["b"],a["c"],!1,null,"70cedd8e",null,!1,a["a"],o);e["default"]=d.exports},ee2b:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAkCAYAAACJ8xqgAAACm0lEQVRIS63WzWsTQRQA8PcmX1hR0FAQwZvgB0gOghdBIwWpHwgVvSihoFhIyZrdFgqKSERET2ZmVgoeREER7EU9VKyIjXgQwYN/iJIixTYhO08mdEuMs19p5zo7P97szHtvEDYwpqam9iilngPAcQD44HneVRzUq1Qqu9Pp9GcA2NtjLAwETk5O7spkMouIuL83ICJaTQxaljWcSqV0ZAcMu/uRCCyXyztyuZzGDhmw5U6ncyI2aFnWdsbYJ0Q83I8R0R+l1Kjrul9igTMzM9va7fZHADhiwFaJ6LSUclHPRYKlUmlrPp9fAICjhm22ieicEELPd0co6DjOFqXUe0Q8ZsI8zzvvuu5871wgaFlWjjE2j4gjBqwDABc552/654xgrVbLNpvNt4g4avhnHhFdklLOmZLiP3BiYiIzNDT0GgDOGBYoIioJIV4GZdg/YLFYTBcKhTlEHDNERoh4hXP+LCxd18FarcaWlpZeAcAFEwYAZSHE46jc90G0bVtXjcsB2HUhxKMozL82GnsKAOOmBUqpaSnlwzhYF3Qc5w4R3Q5YcJNzfj8u1gWr1epPRMwbFt3jnN9KgnVB27Z/AcDOTQOr1epdRDRGopS6IaV8kCRKfcqbeyh+kYi4NhUhxGycSJNc7GtCiCdRaOzUAwCdx+NCiBexUs//KKw4EFFopQkssGHlCwACa2EgqCciCmxbKTUmpXwXq8D6H4W1ACJqMcbO1ut13bzWx0ab1Irneadc19W9ujsiQf1RWBsFgGUAOMk5/xobXPunYY3+N2NspF6vf48Vob+dsKcIETUBoJgIXIt0mDHWQMSD/SdMRN8SgxrRz7lsNtsAgH29KBGtDARqxPTgJKLBHpx+VGvoLBHpp0qj1WpZfwG1GDelYBDQiwAAAABJRU5ErkJggg=="},fadc:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAA8ElEQVRYR+1Z7QnCMBDNDSAoITM06ziCLuAsLmBHcJ1khhAUHOAk2EAJ9U/vCgZf/98HL+/dvTRklL6U0i7nfCWiY0nJzHdr7cU599IoQRpJSo4Qws0Yc2ryjd77s0YNtUZjjA9m3s+bIqLnMAyHn2o0hMBLDXnvVcBQSTIdPRotQADRyldwdO0ogeon5CAmiGmtiGocxAQxNRxS20xzZ976SSlvpfHFz9abAn1x5tIa2vEjLTlz7SrSfAXZfhrt5ui7EZOUP9hMDYKwebB5UlHB5sHmbWXzpNzEwMfAx4/cDwf+b9f39NjQx/PN1g9ib01T3wdQBBnQAAAAAElFTkSuQmCC"},fe52:function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.input-input[data-v-70cedd8e]{font-size:%?28?%;font-family:PingFangSC-Regular,PingFang SC;font-weight:400;color:#999}.myvideo[data-v-70cedd8e]{width:%?690?%;height:%?350?%}.img-list[data-v-70cedd8e]{padding:%?32?%;display:flex;flex-direction:row;align-items:center;flex-wrap:wrap}.img-item[data-v-70cedd8e]{width:%?230?%;height:%?230?%}.change-img[data-v-70cedd8e]{width:%?226?%;height:%?226?%;display:flex;flex-direction:column;align-items:center;justify-content:center;border-width:%?2?%;border-style:solid;border-color:#e9e9e9}.change-text[data-v-70cedd8e]{font-size:%?28?%;color:#999}.change-img-image[data-v-70cedd8e]{width:%?60?%;height:%?60?%}.textarea[data-v-70cedd8e]{padding:%?16?% %?32?%}.down-textarea[data-v-70cedd8e]{display:flex;flex-direction:row;align-items:center;justify-content:space-between}.down-textarea-left[data-v-70cedd8e]{font-size:%?24?%;font-family:PingFangSC-Regular,PingFang SC;font-weight:400;color:#ef4f67}.down-textarea-right[data-v-70cedd8e]{font-size:%?24?%;font-family:PingFangSC-Regular,PingFang SC;font-weight:400;color:#ff4b4f}.textarea-text[data-v-70cedd8e]{width:%?686?%;height:%?200?%;font-size:%?28?%;font-family:PingFangSC-Regular,PingFang SC;font-weight:400;color:#999}.input-title[data-v-70cedd8e]{padding:%?16?% %?32?%}.status-bar[data-v-70cedd8e]{width:%?750?%;position:fixed;background-color:#fff}.header-bg[data-v-70cedd8e]{width:%?750?%}.status-tabbar[data-v-70cedd8e]{height:%?88?%;width:%?750?%;position:fixed;left:0;background-color:#fff;display:flex;z-index:10;flex-direction:row;align-items:center;justify-content:space-between}.back-img[data-v-70cedd8e]{width:%?18?%;height:%?33?%;margin-left:%?32?%}.submit-img[data-v-70cedd8e]{width:%?112?%;height:%?56?%;margin-right:%?32?%}.status-tabbar-title[data-v-70cedd8e]{font-size:%?32?%;font-family:PingFangSC-Medium,PingFang SC;font-weight:500;color:#202020;margin-left:%?98?%}',""]),t.exports=e}}]);